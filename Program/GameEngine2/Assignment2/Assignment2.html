<!DOCTYPE HTML>
<!--
	Hielo by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Portfolio of Yuxian Deng</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="../../../assets/css/main.css" />
		<style>
		code{
			 background-color : #222222 !important;
			 color : snow
		}
	</style>
	</head>
	<body class="subpage">

		<!-- Header -->
			<header id="header">
				<div class="logo"><a href="../index.html">Portfolio <span>of Yuxian Deng</span></a></div>
				<a href="#menu">Menu</a>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="../index.html">Home</a></li>
					<li>Games
						<ul>
							<li ><a href="../Games/Kudzu the Wild.html">Kudzu: the Wild</a></li>
							<li ><a href="../Games/Growth.html">Growth</a></li>
							<li ><a href="../Games/In the Dark.html">In the Dark</a></li>
							<li ><a href="../Games/Cube.html">Cube</a></li>
						</ul>
					</li>
					<li>Programs
						<ul>
							<li ><a href="../Program/prt.html"> Precomputed Radiance Transfer</a></li>
							<li ><a href="../Program/srtp.html">3D indoor modeling based on rules</a></li>
						</ul>
					</li>
					<li><a href=""> Art</a></li>
					<li><a href="">Resume</a></li>
				</ul>
			</nav>

		<!-- One -->
			<section id="One" class="wrapper style3">
				<div class="inner">
					<header class="align-center">
						<h2> Game Engine2 - Assignment1</h2>
					</header>
				</div>
			</section>

		<!-- Two -->
			<section id="two" class="wrapper style2">
				<div class="inner">
					<div class="box">
						<div class="content" class="container">
							<a href="MyGame.zip" class="button special">Download</a>
							<br>
							<br>
							<h3><b>Summary</b></h3>
							<p>During this assignment, I practiced how to make a platform-independent interface. At the beginning, I searched what member variables mesh should have in OpenGL and D3D, put them with the right preprocessor. Then I searched for the part of initializing, cleaning, drawing a mesh in Graphics.d3d.cpp and Graphics.gl.cpp and put them into separate cpp files. I did the same thing for effect class.
							</p>
							<p>The process of initializing, cleaning, drawing(binding) on different platforms is quite similar, only the specific implementations are different. </p>
							<h4><b>Mesh</b></h4>
								<ol>
									<li>For initialization, we need to initialize an object to hold the mesh, then have some buffer to hold our vertices data and have some format for GPU to deal with this buffer.</li>
									<li>For cleanup, release or delete all the resource we create in initialization function.</li>
									<li>For rendering, set some properties and call a “draw” function to draw.</li>
								</ol>
							<h4><b>Effect</b></h4>
								<ol>
									<li>For initialization, we need to load vertex shader and fragment shader from disk. Then on D3D, it’s just a simple initialize function to get a RenderState. But on OpenGL, we need to create a program, attach the shaders to it, link shaders together and get a RenderState eventually.</li>
									<li>For cleanup, release or delete all the resource we create in initialization function.</li>
									<li>For binding, we need to set two shaders on D3D, set the program we created on OpenGL. Call a function to “bind” on both platforms.</li>
								</ol>
							<p>I also learned the coordinate system and different of it between OpenGL and D3D, which is OpenGL uses right-hand coordinate system and D3D uses left-hand coordinate system.</p>

							<h3><b>Differences between Graphics.d3d.cpp and Graphics.gl.cpp</b></h3>
							<p>There are two remained differences between Graphics.d3d.cpp and Graphics.gl.cpp:</p>
								<ol>
									<li>The implementations for two platforms to clean buffers and swap buffers are different. We could create another class to handle these operations separately as what we did to mesh.</li>
									<li>There is a specific property in D3D, which is view. There is no “view” in OpgnGl. Therefore we could create a class to handle every operations of view in D3D, all the files of this class are ignored in OpenGL platform.</li>
								</ol>


							<h3><b>Controls</b></h3>
							<p>Press and hold SPACE to make color animation slow. Release to return to normal speed.</p>

							<h3><b>Platform-independent Interfaces</b></h3>
							<div class="row 50%" >
								<pre>
								<code>
s_effect.Bind();
s_mesh.Render();
								</code>
							</pre>
							<br>
							<pre>
								<code>
// Initialize the shading data
{
	if (!(result == s_effect.Initialize()))
	{
		EAE6320_ASSERT(false);
		goto OnExit;
	}
}
// Initialize the geometry
{
	if (!(result = s_mesh.Initialize()))
	{
		EAE6320_ASSERT(false);
		goto OnExit;
	}
}						
								</code>
							</pre>

							</div>

							<h3><b>Screen Shot</b></h3>
							<div class = "row"> 
								<div class = "6u">
									<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/1.png"><img src="../../../images/Program/GameEngine2/Assignment2/1.png" alt="" /></a></span></div>
								<div class = "6u">
									<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/2.png"><img src="../../../images/Program/GameEngine2/Assignment2/2.png" alt="" /></a></span>
								</div>
							</div>
							<br>
								<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/3.png"><img src="../../../images/Program/GameEngine2/Assignment2/3.png" alt="" /></a></span>
								<br>
								<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/4.png"><img src="../../../images/Program/GameEngine2/Assignment2/4.png" alt="" /></a></span>
								<br>
								<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/5.png"><img src="../../../images/Program/GameEngine2/Assignment2/5.png" alt="" /></a></span>
								<br>
								<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/6.png"><img src="../../../images/Program/GameEngine2/Assignment2/6.png" alt="" /></a></span>
								<br>
								<span class="image fit"><a href="../../../images/Program/GameEngine2/Assignment2/7.png"><img src="../../../images/Program/GameEngine2/Assignment2/7.png" alt="" /></a></span>
								<br>

							<h3><b>Questions</b></h3>
								<p>The mistake I’ve made when I was doing my assignment was that I forgot the different coordinate system. I was trying to put the vertices of my triangles in the header file and using it in two different platform. Since the vertices were not changed between platforms, I got the right result in OpenGL and got a full black screen in D3D. I’m wondering if there’s a better way to deal with this problem rather than put vertices in cpp files separately.</p>
							<br>
						</div>
					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
					</ul>
				</div>
				<div class="copyright">
					&copy; Yuxian Deng. All rights reserved.
				</div>
			</footer>

		<!-- Scripts -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/jquery.scrollex.min.js"></script>
			<script src="../assets/js/skel.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>
</html>